Создание клиент-серверной модели данных для обмена данными между клиентами, написанными на FLUTTER и сервером NET5.
[license](https://github.com/dart-lang/stagehand/blob/master/LICENSE).


Порядок действий для генерации модели обмена данных

1.	Непосредственно генерацию осуществляет данный проект (nsg_generator https://github.com/zenalex/nsg_generator.git)
2.	Создайте или подготовьте следующие проекты: Flutter  - для генерации клиента, NET5 – для генерации сервера
3.	В проекте Flutter создаем папку сonfig (название любое) вне папки lib (для того, чтобы файлы в ней не были включены в конечный проект). В этой папке (будем называеть её config) будем создавать файлы-описатели классов и вызываемых функций в формате json


Создание конфигурационных файлов 

Все данные файлы создаются в папке config и имеют формат json.
generation_config.json - Основной файл, содержащий описание всех генерируемых типов данных.

1. Описание структуры generation_config:

Версия .NET, под которую будет создана серверная часть (поддерживаются net5 и net472, по умолчанию net5) 
"targetFramework": "net5",

Путь к папке проекта .NET для генерации классов
"cSharpPath": "X:/Path/",

.NET namespace для генерации классов
"cSharpNamespace": "namespace",

Путь к папке проекта FLUTTER для генерации классов
"dartPath": "X:/Path"

Массив генерируемых контроллеров
"controller":[]

1. 1. Описание структуры контроллеров controller

Префикс для вызова web-api
"api_prefix": "Api",

Имя класса контроллера
"class_name": "DataController",

Имя класса, содержащего реализации функций контроллера
"impl_controller_name": "DataControllerImplementation",

Имя класса, реализующего функции аутентификации
"impl_auth_controller_name": "AuthControllerImplementation",

Использует ли контроллер проверку пользователей
"useAuthorization": "true",

Тип контроллера (пока единственный из доступных)
"dataType": "NsgDataItem",

Uri сервера
"serverUri": "http://server.name:5000",

Массив классов данных
"method": []

1. 1. 1. Описание структуры классов данных (method)

Имя класса данных
"name": "UserData",

Описание класса данных для чтения человеком
"description" : "Get user data",

Префикс web-api для запроса операций чтения и записи с данным классом
"api_prefix": "UserData",

Уровень прав, требуемый для обращения к данным: 
- anonymous
-user
"authorize": "user",

Тип запроса (GET или POST)
"type": "get",

Имя файла описания структуры полей данного класса
"dataTypeFile": "userItem.json",

Генерировать методы не только для чтения, но и для записи
"allowPost": "true"

Генерировать методы для удаления
"allowDelete": "true"


Функции
"functions": []

*1.
Поле referenceType нужно заполнять, есть type
- ссылочный ("type": "Reference")
- список объектов ("type": "List<Reference>")
- перечисление ("type": "Enum")

1. 1. 2. Описание структуры функции (function)

Имя функции
"name": "UserData",

Тип выходных данных функции
"type": "int",

Если тип - генерируемый объект, необходимо указать тип генерируемого объекта (*1)
"referenceType": "DayOfWeek",

Уровень прав, требуемый для обращения к функции: 
- anonymous
-user
"authorize": "user",

Префикс для вызова web-api
"api_prefix": "Api",

Описание функции для чтения человеком
"description" : "Get user data",

Входные параметры функции
"params": []

1. 1. 2. 1. Описание структуры входных параметров функции (params)

Имя параметра
"name": "UserData",

Тип данных параметра
"type": "int",

Если тип - генерируемый объект, необходимо указать тип генерируемого объекта (*1)
"referenceType": "DayOfWeek",


Массив генерируемых перечислений
"enums": []

1. 2. Описание структуры перечисления (enum)

Имя класса перечисления
"class_name": "DaysOfWeek",

Описание перечисления для чтения человеком
"description": "Дни недели",

Имя файла описания структуры полей данного перечисления
"dataTypeFile": "days_of_week.json"



2. Файл описания структуры объекта

Имя типа генерируемого объекта
"typeName": "TeamItem",

Имя типа объекта метаданных (при наличии)
"databaseType": "Команды",

.NET namespace объекта метаданных (при наличии)
"databaseTypeNamespace": "TechControl.Метаданные.Мониторинг",

Перегрузка методов ToString()
"presentation": "name",

Поля объекта
"fields": []

2. 1. Описание структуры полей объекта (fields)

Имя поля
"name": "Id",

Тип поля
"type": "String",

Имя поля в объекте метаданных (при наличии)
"databaseName": "Идентификатор",

Тип поля в объекте метаданных (при наличии)
"databaseType": "ДеньНедели",

Макс. длина строки или значение числа
"maxLength": 50,

Описание поля для чтения человеком
"description" : "Some value",

Если тип поля Image (изображение), для его получения нужен префикс api
"api_prefix": "pic0"

Признак ключевого поля
"isPrimary": "true"

Если тип - генерируемый объект, можно указать имя ссылки для Flutter (*1)
"referenceName": "Position",

Если тип - генерируемый объект, необходимо указать тип генерируемого объекта (*1)
"referenceType": "TeamItemMembersTable",

Можно указывать человекочитаемые имена полей
"userVisibility": "true",
"userName": "The Field!"

3. Файл описания структуры перечисления

Список возможных значений
"values": []

3. 1. Описание структуры значения перечисления

Имя для кода
"codeName": "Unknown",

Имя для человека
"name": "Неизвестно",

Числовой индекс
"value": "0"
